# Production Environment Configuration Template
# Copy this file to .env.production and configure for your production environment

# ==================== APPLICATION ====================
APP_NAME="Greenwich Academic Portal API"
APP_VERSION="1.0.0"
APP_ENV="production"
DEBUG=false
SECRET_KEY="CHANGE_THIS_TO_A_SECURE_RANDOM_SECRET_KEY_IN_PRODUCTION"

# ==================== SERVER ====================
HOST="0.0.0.0"
PORT=8000
RELOAD=false
WORKERS=4
LOG_LEVEL="info"

# ==================== DATABASE ====================
DATABASE_HOST="localhost"
DATABASE_PORT=5432
DATABASE_NAME="academic_portal_prod"
DATABASE_USER="postgres"
DATABASE_PASSWORD="CHANGE_THIS_TO_SECURE_PASSWORD"
DATABASE_ECHO=false

# Database Pool Settings (Production optimized)
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=10
DATABASE_POOL_TIMEOUT=30
DATABASE_POOL_RECYCLE=3600

# ==================== FIREBASE ====================
FIREBASE_CREDENTIALS_PATH="credentials/serviceAccountKey.json"
FIREBASE_PROJECT_ID="your-firebase-project-id"

# ==================== CORS ====================
# Production domains only - NO wildcards!
CORS_ORIGINS="https://yourdomain.com,https://admin.yourdomain.com,https://api.yourdomain.com"
CORS_ALLOW_CREDENTIALS=true

# ==================== SECURITY ====================
# JWT Settings
JWT_SECRET_KEY="CHANGE_THIS_TO_ANOTHER_SECURE_RANDOM_KEY"
JWT_ALGORITHM="HS256"
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# Password Hashing
BCRYPT_ROUNDS=12

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000

# ==================== EMAIL (SMTP) ====================
SMTP_HOST="smtp.gmail.com"
SMTP_PORT=587
SMTP_USERNAME="your-email@gmail.com"
SMTP_PASSWORD="your-app-password"
SMTP_FROM_EMAIL="noreply@yourdomain.com"
SMTP_FROM_NAME="Greenwich Academic Portal"

# Email Templates
EMAIL_VERIFICATION_ENABLED=true
EMAIL_NOTIFICATIONS_ENABLED=true

# ==================== SMS (TWILIO) ====================
TWILIO_ACCOUNT_SID="your-twilio-account-sid"
TWILIO_AUTH_TOKEN="your-twilio-auth-token"
TWILIO_PHONE_NUMBER="+1234567890"
SMS_NOTIFICATIONS_ENABLED=true

# ==================== STORAGE ====================
# File Upload Settings
UPLOAD_DIR="uploads"
MAX_UPLOAD_SIZE_MB=10
ALLOWED_EXTENSIONS=".pdf,.doc,.docx,.jpg,.jpeg,.png,.xlsx,.xls"

# Backup Settings
BACKUP_DIR="backups"
BACKUP_RETENTION_DAYS=30
AUTOMATED_BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM

# ==================== CACHE ====================
CACHE_ENABLED=true
CACHE_TYPE="redis"  # or "memory"
REDIS_HOST="localhost"
REDIS_PORT=6379
REDIS_PASSWORD=""
REDIS_DB=0
CACHE_DEFAULT_TIMEOUT=300

# ==================== MONITORING ====================
# Logging
LOG_TO_FILE=true
LOG_FILE_PATH="logs/app.log"
LOG_ROTATION="daily"
LOG_MAX_BYTES=10485760  # 10 MB
LOG_BACKUP_COUNT=30

# Performance Monitoring
ENABLE_PROFILING=false
SLOW_QUERY_THRESHOLD_MS=1000

# Health Checks
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL_SECONDS=60

# ==================== FEATURES ====================
# Mobile App
MOBILE_API_ENABLED=true
MOBILE_SYNC_INTERVAL_MINUTES=15
FCM_ENABLED=true

# Calendar Integration
CALENDAR_ENABLED=true
CALENDAR_TIMEZONE="Asia/Ho_Chi_Minh"

# Notifications
PUSH_NOTIFICATIONS_ENABLED=true
EMAIL_NOTIFICATIONS_ENABLED=true
SMS_NOTIFICATIONS_ENABLED=true

# Reports
REPORTS_ENABLED=true
EXPORT_FORMATS="pdf,excel,csv"

# Import/Export
IMPORT_EXPORT_ENABLED=false  # Enable after schema alignment

# ==================== EXTERNAL SERVICES ====================
# Payment Gateway (if applicable)
PAYMENT_GATEWAY_ENABLED=false
PAYMENT_GATEWAY_URL=""
PAYMENT_GATEWAY_API_KEY=""

# Analytics
ANALYTICS_ENABLED=false
ANALYTICS_TRACKING_ID=""

# ==================== PERFORMANCE ====================
# API Optimization
ENABLE_COMPRESSION=true
COMPRESSION_LEVEL=6

# Query Optimization
ENABLE_QUERY_CACHING=true
QUERY_CACHE_SIZE=1000

# Connection Pooling
CONNECTION_POOL_SIZE=20
CONNECTION_MAX_OVERFLOW=10

# ==================== MAINTENANCE ====================
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE="System is under maintenance. Please try again later."
MAINTENANCE_ALLOWED_IPS=""  # Comma-separated IPs that can access during maintenance

# ==================== BACKUP & DISASTER RECOVERY ====================
# Database Backup
DB_BACKUP_ENABLED=true
DB_BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM
DB_BACKUP_RETENTION_DAYS=30
DB_BACKUP_COMPRESSION=true

# File Backup
FILE_BACKUP_ENABLED=true
FILE_BACKUP_SCHEDULE="0 3 * * 0"  # Weekly on Sunday at 3 AM
FILE_BACKUP_RETENTION_WEEKS=12

# ==================== NOTIFICATIONS ====================
# Admin Notifications
ADMIN_EMAIL="admin@yourdomain.com"
ERROR_NOTIFICATION_EMAIL=true
BACKUP_NOTIFICATION_EMAIL=true
SECURITY_NOTIFICATION_EMAIL=true

# ==================== TIMEZONE & LOCALIZATION ====================
TIMEZONE="Asia/Ho_Chi_Minh"
LOCALE="en_US"
DATE_FORMAT="YYYY-MM-DD"
TIME_FORMAT="HH:mm:ss"
DATETIME_FORMAT="YYYY-MM-DD HH:mm:ss"

# ==================== DEPLOYMENT ====================
DEPLOYMENT_DATE=""  # Auto-filled during deployment
DEPLOYMENT_VERSION=""
DEPLOYMENT_COMMIT_HASH=""

# ==================== NOTES ====================
# 1. NEVER commit this file with real credentials
# 2. Use strong, unique passwords for all services
# 3. Update CORS_ORIGINS with your actual domains
# 4. Configure firewall rules to restrict database access
# 5. Set up SSL/TLS certificates for HTTPS
# 6. Enable all security features before going live
# 7. Set up monitoring and alerting
# 8. Test backup and restore procedures
# 9. Configure rate limiting based on your needs
# 10. Review all settings before deployment
